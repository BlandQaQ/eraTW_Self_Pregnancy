@k1011ComDenial, comId
	#DIM comId
	#DIM DYNAMIC action	;执行过标志
	;自慰
	IF comId == 7
		;执行过标志
		action = 1
		CALL k1011GWait()
		;初次
		IF !K1011TrainDenialFirst:通常自慰
			IF K1011InfOfSex == 1
				CALL k1011GPC("W", @"「让%k1011Name(TARGET, TARGET)%一个人……这是什麼意思?」", TARGET)
				CALL k1011GP("L", @"%CALLNAME:MASTER%站到芙兰的背后、想要手把手地教她、但是被她狠狠地推開了")
				CALL k1011GPC("W", @"「不要、一边去!」", TARGET)
			ELSE
				CALL k1011GPC("W", @"「不行!」", TARGET)
				CALL k1011GPC("W", @"「这种事连那家伙都没见过……」", TARGET)
			ENDIF
			K1011TrainDenialFirst:通常自慰 = 1
		;媚药
		ELSEIF k1011GetTequip("媚药")
			;初回
			IF !K1011TrainDenialFirst:媚药自慰
				IF K1011Character == 1
					CALL k1011GPC("L", @"「哈……哈……」", TARGET)
					CALL k1011GPC("W", @"「讨厌!竟然会有这样的人!」", TARGET)
				ELSE
					CALL k1011GPC("L", @"「在这种状态下、让%k1011Name(TARGET, TARGET)%一个人、做这种事……」", TARGET)
					CALL k1011GPC("W", @"「……你酒喝多了吧」", TARGET)
				ENDIF
				K1011TrainDenialFirst:媚药自慰 = 1
			;二回目以降
			ELSE
				CALL k1011GPC("L", @"「呵呵」", TARGET)
				CALL k1011GPC("W", @"「%k1011Name(TARGET, TARGET)%不想做……」", TARGET)
			ENDIF
		;公开自慰
		ELSEIF k1011GetTequip("录像带摄影")
			;初次
			IF !K1011TrainDenialFirst:录像自慰
				CALL k1011GPC("L", @"「一个人做的玩色情游戏吗?」", TARGET)
				CALL k1011GPC("W", @"「不、%k1011Name(TARGET, TARGET)%不会做的」", TARGET)
				K1011TrainDenialFirst:录像自慰 = 1
			;之后
			ELSE
				;正常自慰可以进行
				IF TFLAG:240 > 32
					CALL k1011GPC("L", @"「%k1011Name(TARGET, TARGET)%不喜欢录像带」", TARGET)
					CALL k1011GPC("W", @"「……把它関掉……可以吗?」", TARGET)
				;正常自慰不行
				ELSE
					CALL k1011GPC("L", @"「讨厌!」", TARGET)
					CALL k1011GPC("W", @"「好丢人啊…」", TARGET)
				ENDIF
			ENDIF
		;淋浴自慰
		ELSEIF k1011GetTequip("淋浴play")
			CALL k1011GPC("W", @"「.........」", TARGET)
		;振动棒・肛门振动棒・双穴振动棒自慰
		ELSEIF k1011GetTequip("震动棒") || k1011GetTequip("肛门震动棒")
			;初次
			IF !K1011TrainDenialFirst:震动棒自慰
				CALL k1011GPC("W", @"「让%k1011Name(TARGET, TARGET)%一个人做这种事……不行……」", TARGET)
				K1011TrainDenialFirst:震动棒自慰 = 1
			;之后
			ELSE
				;正常自慰可以进行
				IF TFLAG:240 > 32
					CALL k1011GPC("W", @"「自己玩这东西……太可怕了、能只做普通的自慰吗?」", TARGET)
				;正常自慰不行
				ELSE
					CALL k1011GPC("W", @"「呀啊……不行」", TARGET)
				ENDIF
			ENDIF
		;通常自慰
		ELSE
			CALL k1011GPC("W", @"「让%k1011Name(TARGET, TARGET)%一个人做色色的事?」", TARGET)
			CALL k1011GPC("W", @"「不要!」", TARGET)
		ENDIF
	;骑乘位
	ELSEIF comId == 24
		;执行过标志
		action = 1
		;处女
		IF k1011GetTalent("处女") == 1
			;初回
			IF !K1011TrainDenialFirst:处女骑乘位
				CALL k1011GPC("L", @"「要让%k1011Name(TARGET, TARGET)%爬上去吗?」", TARGET)
				CALL k1011GPC("L", @"「讨厌……刚刚你的肉棒差点进去了」", TARGET)
				CALL k1011GPC("W", @"「把你的肉棒拿远点」", TARGET)
				K1011TrainDenialFirst:处女骑乘位 = 1
			;二回目以降
			ELSE
				CALL k1011GPC("W", @"「把你的肉棒拿远点、真讨厌!」", TARGET)
			ENDIF
		;除此之外
		ELSE
			;初回
			IF !K1011TrainDenialFirst:通常骑乘位
				;处女拒绝过
				IF K1011TrainDenialFirst:处女骑乘位
					CALL k1011GPC("W", @"「讨厌、自己去把肉棒吞下去、好可怕…」", TARGET)
				;没有
				ELSE
					CALL k1011GPC("L", @"「让%k1011Name(TARGET, TARGET)%自己去插肉棒吗…?」", TARGET)
					CALL k1011GPC("W", @"「那种事太可怕了、做不到……就像平常那样做吧」", TARGET)
				ENDIF
				K1011TrainDenialFirst:通常骑乘位 = 1
			;二回目以降
			ELSE
				CALL k1011GPC("L", @"「%k1011Name(TARGET, TARGET)%不喜欢自己主动做…」", TARGET)
				CALL k1011GPC("W", @"「……%k1011Name(TARGET, MASTER)%如果要辣的话、自己插在%k1011Name(TARGET, TARGET)%里面也可以的啊♪」", TARGET)
			ENDIF
		ENDIF
	;手淫
	ELSEIF comId == 40
		;执行过标志
		action = 1
		;初回
		IF !K1011TrainDenialFirst:手淫
			CALL k1011GPC("L", @"「这是什麼……肉棒?」", TARGET)
			CALL k1011GPC("W", @"「啊、怎麼这麼烫……讨厌……」", TARGET)
			K1011TrainDenialFirst:手淫 = 1
		;二回目以降
		ELSE
			CALL k1011GPC("W", @"「这种事情……好可怕啊……」", TARGET)
			CALL k1011GPC("W", @"「太可怕了、%k1011Name(TARGET, TARGET)%不要」", TARGET)
		ENDIF
	;口交系
	ELSEIF comId == 41
		;执行过标志
		action = 1
		;初回
		IF !K1011TrainDenialFirst:口交
			CALL k1011GPC("L", @"「这是什麼……肉棒?」", TARGET)
			CALL k1011GPC("W", @"「啊、怎麼这麼烫……讨厌……」", TARGET)
			K1011TrainDenialFirst:口交 = 1
		;二回目以降
		ELSE
			;无污物可执行
			IF TFLAG:240 + TFLAG:242 >= TFLAG:241
				CALL k1011GPC("L", @"「喂、上面粘的是什麼东西啊……好恶心……」", TARGET)
				CALL k1011GPC("W", @"「……如果你弄干净的话、%k1011Name(TARGET, TARGET)%或许可以试试」", TARGET)
			;干净也不行
			ELSE
				CALL k1011GPC("W", @"「这种事情……好可怕啊……」", TARGET)
				CALL k1011GPC("W", @"「太可怕了、%k1011Name(TARGET, TARGET)%不要」", TARGET)
			ENDIF
		ENDIF
	;乳交系
	ELSEIF comId == 42
		;执行过标志
		action = 1
		;初回
		IF !K1011TrainDenialFirst:乳交
			CALL k1011GPC("L", @"「用乳房夹肉棒?」", TARGET)
			CALL k1011GPC("W", @"「…这种事像个⑨一样」", TARGET)
			K1011TrainDenialFirst:乳交 = 1
		;二回目以降
		ELSE
			CALL k1011GPC("L", @"「你是说用乳房吗?」", TARGET)
			CALL k1011GPC("W", @"「%k1011Name(TARGET, TARGET)%不想做」", TARGET)
		ENDIF
	;素股
	ELSEIF comId == 43
		;执行过标志
		action = 1
		;初回
		IF !K1011TrainDenialFirst:素股
			CALL k1011GPC("L", @"「让%k1011Name(TARGET, TARGET)%摆成这个样子吗?」", TARGET)
			CALL k1011GPC("W", @"「讨厌、怎麼会有这种事情、好可怕」", TARGET)
			K1011TrainDenialFirst:素股 = 1
		;二回目以降
		ELSE
			CALL k1011GPC("W", @"「不、那太恶心了!」", TARGET)
		ENDIF
	;强制舔足
	ELSEIF comId == 46
		;执行过标志
		action = 1
		;初回
		IF !K1011TrainDenialFirst:强制舔足
			CALL k1011GPC("L", @"「让%k1011Name(TARGET, TARGET)%舔脚！？让%k1011Name(TARGET, TARGET)%舔这麼脏的东西、你想多了」", TARGET)
			CALL k1011GPC("W", @"「呵呵……倒是你舔%k1011Name(TARGET, TARGET)%的脚还差不多?」", TARGET)
			K1011TrainDenialFirst:强制舔足 = 1
		;二回目以降
		ELSE
			CALL k1011GPC("W", @"「哎呀、真脏、一边去」", TARGET)
		ENDIF
	ENDIF
	RETURN action
