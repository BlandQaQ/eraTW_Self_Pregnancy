;-------------------------------------------------
; eraTheWorld 画蛇添足版用接口
;-------------------------------------------------
;关于他人的修改、润色、借用函数、请遵循同一下条款
;禁止加NTR相关

;**** FlagManagement **********************************************************
;由于兼容原因,tw内容禁用CFLAG,TCVAR等游戏内的变量
;具体变量请查阅文档文件夹内东西
;******************************************************************************

;### 游戏INFO ###################################
@k1011BaseInfoTw
	K1011Game '= "TW"
	K1011IsCVersion = (STRFIND(eraTW_Version, "画蛇添足") != -1)

;### 口上存在判定 ###################################
@M_KOJO_K50_3(ARG)
	;设置游戏信息
	CALL k1011BaseInfoTw
	;命名空间初始化
	CALL k1011nameSpaceInit
	;如果这里设置了RESULTS，即使与另一个角色冲突，它也会正常运行。
	RESULTS = _FL
	;名字
	RESULTS:1 = YM魔改版

	RETURN 1

;回合前准备
@M_KOJO_FL_FLAGSETTING_K50
	#DIM out

	;新指令预备
	CALL k1011ComPre

	;抓芙兰
	out = FINDCHARA(NO, 50)
	SIF out == -1
		THROW [芙兰口上ERROR]找不到芙兰

	CFLAG:out:眠姦口上有 = 1
	CFLAG:out:時間停止口上有 = 1
	CFLAG:out:扮演口上有 = 0
	CFLAG:out:破瓜中止口上有 = 0
	;这个值为1时直接在推倒这个命令里面调用一次相关口上
	CFLAG:out:口上内抱き寄せ判定_初回 = 0
	CFLAG:out:口上内抱き寄せ判定_通常 = 0

	;这是口上的存在判定，如口上中有眠姦口上、時間停止口上就删除;符号，将0改为1
	;※※※※※※※※※※※※※※※※※※※※※※※※※※
	;禁止推倒
	;※※※※※※※※※※※※※※※※※※※※※※※※※※

	;CFLAG：在禁止推倒为1的话，就不会主动推倒
	;以下是恋慕或者炮友到达之前不会推倒的使用例

	IF !k1011GetTalent("亲爱") && !TALENT:炮友
		CFLAG:out:推倒禁止 = 1
	ELSE
		CFLAG:out:推倒禁止 = 0
	ENDIF

	;你先生有其他女孩子了
	IF TALENT:MASTER:7
		FLAG:1061 = 1
	ELSE
		FLAG:1061 = 0
	ENDIF

	RETURN 1

;※※※※※※※※※※※※※※※※※※※※※※※※※※
;"UPDATE判定"
;※※※※※※※※※※※※※※※※※※※※※※※※※※
@M_KOJO_FL_UPDATE_K50
	;未初始化
	SIF CFLAG:495 == 0
		CALL k1011Init
	RETURN 1

;※※※※※※※※※※※※※※※※※※※※※※※※※※
;口上更新
;※※※※※※※※※※※※※※※※※※※※※※※※※※
@KOJO_FL_VERSION_K50
	RETURN K1011Version

@KOJO_FL_VERSION_UPDATE_K50
	;tw的待写

;※※※※※※※※※※※※※※※※※※※※※※※※※※
;额外角色信息
;※※※※※※※※※※※※※※※※※※※※※※※※※※
@CHARA_INFO_KOJO_FL_K50
	CALL k1011CharaInfo

;※※※※※※※※※※※※※※※※※※※※※※※※※※
;TRAIN流程
;※※※※※※※※※※※※※※※※※※※※※※※※※※
	;==================================================
	;COM处理
	;==================================================
	@M_KOJO_FL_SUCCESS_K50_GENERAL
		;tw用
		CALL k1011TwBeforeCom()
		;创建虚拟环境
		CALL k1011ComBeforeCreateVenv()

	;==================================================
	;SOURCE处理
	;==================================================
	@M_KOJO_FL_EXTRASOURCE_SCOM_K50_GENERAL
		CALL k1011SourceDp
	@M_KOJO_FL_EXTRASOURCE_COM_K50_GENERAL
		CALL k1011SourceDp
	;==================================================
	;com文本
	;==================================================
	@M_KOJO_FL_MESSAGE_COM_K50_00
		CALL k1011TwComMessageMain

	;==================================================
	;绝顶(CFLAG:恶作剧 意思是睡姦 插入前1,不给睡眠姦经验,之后2,给睡眠姦经验)
	;==================================================
	@M_KOJO_FL_MESSAGE_PALAMCNG_B_K50
		CALL k1011TwPalamcngMain
	@M_KOJO_FL_MESSAGE_PALAMCNG_B2_K50
		CALL k1011TwPalamcngMain

	;==================================================
	;挑逗
	;==================================================
	@M_KOJO_FL_MESSAGE_PALAMCNG_F_K50

	;==================================================
	;调教后
	;==================================================
	@M_KOJO_FL_MESSAGE_PALAMCNG_C_K50

;※※※※※※※※※※※※※※※※※※※※※※※※※※
;自定义shop按钮
;※※※※※※※※※※※※※※※※※※※※※※※※※※
	@KOJO_FL_CUSTOM_BUTTON_CONDITION_K50_0
		SIF !k1011TwButtonCondition(0)
			RETURN 0
		JUMP k1011ShopButtonCondition1
	@KOJO_FL_CUSTOM_BUTTON_CONDITION_K50_1
		SIF !k1011TwButtonCondition(1)
			RETURN 0
		JUMP k1011ShopButtonCondition2
	@KOJO_FL_CUSTOM_BUTTON_CONDITION_K50_2
		SIF !k1011TwButtonCondition(2)
			RETURN 0
		JUMP k1011ShopButtonCondition3
	@KOJO_FL_CUSTOM_BUTTON_CONDITION_K50_3
		SIF !k1011TwButtonCondition(3)
			RETURN 0
		JUMP k1011ShopButtonCondition4
	@KOJO_FL_CUSTOM_BUTTON_CONDITION_K50_4
		SIF !k1011TwButtonCondition(4)
			RETURN 0
		JUMP k1011ShopButtonCondition5
	@KOJO_FL_CUSTOM_BUTTON_CONDITION_K50_5
		SIF !k1011TwButtonCondition(5)
			RETURN 0
		JUMP k1011ShopButtonCondition6
	@KOJO_FL_CUSTOM_BUTTON_CONDITION_K50_6
		SIF !k1011TwButtonCondition(6)
			RETURN 0
		JUMP k1011ShopButtonCondition7
	@KOJO_FL_CUSTOM_BUTTON_CONDITION_K50_7
		SIF !k1011TwButtonCondition(7)
			RETURN 0
		JUMP k1011ShopButtonCondition8
	@KOJO_FL_CUSTOM_BUTTON_CONDITION_K50_8
		SIF !k1011TwButtonCondition(8)
			RETURN 0
		JUMP k1011ShopButtonCondition9
	@KOJO_FL_CUSTOM_BUTTON_CONDITION_K50_9
		SIF !k1011TwButtonCondition(9)
			RETURN 0
		JUMP k1011ShopButtonCondition10
	@KOJO_FL_CUSTOM_BUTTON_K50_0
		JUMP k1011ShopButtonAction1
	@KOJO_FL_CUSTOM_BUTTON_K50_1
		JUMP k1011ShopButtonAction2
	@KOJO_FL_CUSTOM_BUTTON_K50_2
		JUMP k1011ShopButtonAction3
	@KOJO_FL_CUSTOM_BUTTON_K50_3
		JUMP k1011ShopButtonAction4
	@KOJO_FL_CUSTOM_BUTTON_K50_4
		JUMP k1011ShopButtonAction5
	@KOJO_FL_CUSTOM_BUTTON_K50_5
		JUMP k1011ShopButtonAction6
	@KOJO_FL_CUSTOM_BUTTON_K50_6
		JUMP k1011ShopButtonAction7
	@KOJO_FL_CUSTOM_BUTTON_K50_7
		JUMP k1011ShopButtonAction8
	@KOJO_FL_CUSTOM_BUTTON_K50_8
		JUMP k1011ShopButtonAction9
	@KOJO_FL_CUSTOM_BUTTON_K50_9
		JUMP k1011ShopButtonAction10

;※※※※※※※※※※※※※※※※※※※※※※※※※※
;自定义com按钮
;※※※※※※※※※※※※※※※※※※※※※※※※※※
	;0-9共用区
	;10-29tw补偿区
	;令其吸血
	@KOJO_FL_COM_NAME_K50_10
		RESULTS = 令其吸血
	@KOJO_FL_COM_ABLE_K50_10
		JUMP k1011ComAbl10
	@KOJO_FL_COM_K50_10
		JUMP k1011Com10
	;吸血
	@KOJO_FL_COM_NAME_K50_11
		RESULTS = 吸血
	@KOJO_FL_COM_ABLE_K50_11
		JUMP k1011ComAbl11
	@KOJO_FL_COM_K50_11
		JUMP k1011Com11
	@KOJO_FL_CAN_COM_K50_11(ARG)
		JUMP k1011ComOrder11(ARG)
	;魔法施放
	@KOJO_FL_COM_NAME_K50_12
		RESULTS = 魔法施放
	@KOJO_FL_COM_ABLE_K50_12
		JUMP k1011ComAbl12
	@KOJO_FL_COM_K50_12
		JUMP k1011Com12
	;悠闲度过(日常事件)
	@KOJO_FL_COM_NAME_K50_13
		RESULTS = 悠闲度过
	@KOJO_FL_COM_ABLE_K50_13
		JUMP k1011ComAbl13
	@KOJO_FL_COM_K50_13
		JUMP k1011Com13


;※※※※※※※※※※※※※※※※※※※※※※※※※※
;"ENCOUNTER"系事件
;※※※※※※※※※※※※※※※※※※※※※※※※※※
@M_KOJO_FL_ENCOUNTER_K50
	;初始化
	SIF CFLAG:495 == 0
		CALL k1011Init()
	;初见口上
	CALL k1011TwMeet()
	;记录见面日
	K1011MeetDay = DAY:0
	RETURN 1

;※※※※※※※※※※※※※※※※※※※※※※※※※※
;"SP_EVENT"系事件
;※※※※※※※※※※※※※※※※※※※※※※※※※※
;==================================================
;约会结束后的初吻（合意取得）
;==================================================
@M_KOJO_FL_SPEVENT_K50_1(ARG,ARG:1)
	;口上主はTARGET
	;地の文表示
	CALL SPEVENT_MESSAGE_1(ARG,ARG:1)
	;--------------------------------------------------
	;填写检查（=0, 不显示、1, 显示）
	LOCAL = 0
	;-------------
	IF LOCAL
		PRINTFORMW	约会后的初吻
	ENDIF
	RETURN 1

;==================================================
;约会后的告白（恋人素质取得）
;==================================================
@M_KOJO_FL_SPEVENT_K50_2(mod,ARG)
	#DIM mod
	;地文表示
	CALL SPEVENT_MESSAGE_2(mod,ARG)
	SELECTCASE mod
		;告白内容
		CASE 0
			CALL k1011NorConfession()
		;告白成功
		CASE 1
		;告白失敗
		CASE 2
	ENDSELECT

;==================================================
;约会回来
;==================================================
@M_KOJO_FL_SPEVENT_K50_3(ARG,ARG:1)
	;口上主はTARGET
	;地の文表示
	CALL SPEVENT_MESSAGE_3(ARG,ARG:1)
	;--------------------------------------------------
	;填写检查（=0, 不显示、1, 显示）
	LOCAL = 0
	;-------------
	IF LOCAL
		;-------------------------------------------------
		;小分岐
		;-------------------------------------------------
		;通常帰宅
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 0
			PRINTFORML	通常约会结束，主人公与口上角色各回各家
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;反発刻印消去
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 1
			PRINTFORML	通常约会结束，主人公与口上角色各回各家（反发1→0）
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;反発刻印2>1
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 2
			PRINTFORML	通常约会结束，主人公与口上角色各回各家（反发2→1）
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;反発刻印3>2
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 3
			PRINTFORML	通常约会结束，主人公与口上角色各回各家（反发3→2）
			RETURN 1
		ENDIF
		PRINTFORML
	ENDIF
	RETURN 1

;※※※※※※※※※※※※※※※※※※※※※※※※※※
;"EVENT"系
;※※※※※※※※※※※※※※※※※※※※※※※※※※
;==================================================
;在房间里遭遇
;==================================================
@M_KOJO_FL_EVENT_K50_1(kind,ARG:1)
	#DIM kind
	;恋慕判断
	CALL k1011LoveCheck()
	;执行完恋慕判断后不再执行
	SIF RESULT
		RETURN
	;差分
	SELECTCASE kind
		;MASTER进入口上角色所在区域
		CASE 1
		;口上角色进入MASTER所在区域
		CASE 2
		;口上角色进入主人公所在区域，发现主人公沐浴中，留下
		CASE 3
		;口上角色进入主人公所在区域，发现主人公沐浴中，离开
		CASE 4
		;口上角色进入主人公所在区域，发现主人公沐浴中，把主人公赶出去
		CASE 5
		;在外面相遇
		CASE 6
		;和其他角色约会时相遇了
		CASE 7
		;在主要地图的第一次相遇
		;触发后之后会触发CASE 1,2
		CASE 8
	ENDSELECT
	RETURN 1

;==================================================
;早上起来的时候（早安口上）
;==================================================
@M_KOJO_FL_EVENT_K50_2(ARG,ARG:1)
	;恋慕判断
	CALL k1011LoveCheck()
	;执行完恋慕判断后不再执行
	SIF RESULT
		RETURN
	;芙兰酱已经醒了
	IF TIME > CFLAG:起床時間
		CALL k1011TwMorningEvent(1)
	;一起醒
	ELSEIF TIME == CFLAG:起床時間
		CALL k1011TwMorningEvent(0)
	;还没有醒
	ELSEIF TIME < CFLAG:起床時間
		CALL k1011TwMorningEvent(-1)
	ENDIF

;==================================================
;晚上睡觉的时候（晚安口上）
;==================================================
@M_KOJO_FL_EVENT_K50_3(ARG,ARG:1)
	; IF LOCAL
	; 	;-------------------------------------------------
	; 	;小分岐
	; 	;-------------------------------------------------
	; 	;回到自己的房间睡觉(~从【现在的位置】回到了【角色的自己的房间】)
	; 	;填写检查（=0, 不显示、1, 显示）
	; 	LOCAL:1 = 0
	; 	;-------------------------------------------------
	; 	IF LOCAL:1 && ARG == 1
	; 		IF ARG:1
	; 			;约会中困了就回去睡觉（只有据点角色）
	; 			PRINTFORMW 
	; 		ELSEIF CFLAG:317
	; 			;H中
	; 			PRINTFORMW 
	; 		ELSE
	; 			PRINTFORMW 
	; 		ENDIF
	; 		RETURN 1
	; 	ENDIF
	; 	;-------------------------------------------------
	; 	;口上角色回自己房间睡觉（昏昏欲睡中）
	; 	;填写检查（=0, 不显示、1, 显示）
	; 	LOCAL:1 = 0
	; 	;-------------------------------------------------
	; 	IF LOCAL:1 && ARG == 2
	; 		PRINTFORMW 
	; 		RETURN 1
	; 	ENDIF
	; 	;-------------------------------------------------
	; 	;口上角色睡眠中
	; 	;填写检查（=0, 不显示、1, 显示）
	; 	LOCAL:1 = 0
	; 	;-------------------------------------------------
	; 	IF LOCAL:1 && ARG == 3
	; 		PRINTFORMW 
	; 		RETURN 1
	; 	ENDIF
	; 	;-------------------------------------------------
	; 	;惡作劇中（口上角色睡眠中遭到主人公猥亵）
	; 	;填写检查（=0, 不显示、1, 显示）
	; 	;LOCAL:1 = 0
	; 	;-------------------------------------------------
	; 	;IF LOCAL:1 && ARG == 4
	; 		;PRINTFORMW 
	; 		;RETURN 1
	; 	;ENDIF
	; 	;-------------------------------------------------
	; 	;身体衰弱后睡觉（体力500以下，呼哧呼哧时强制结束）
	; 	;填写检查（=0, 不显示、1, 显示）
	; 	LOCAL:1 = 0
	; 	;-------------------------------------------------
	; 	IF LOCAL:1 && ARG == 5
	; 		IF CFLAG:317
	; 			;H中
	; 			PRINTFORMW 
	; 		ELSE
	; 			PRINTFORMW 
	; 		ENDIF
	; 		RETURN 1
	; 	ENDIF
	; 	;-------------------------------------------------
	; 	;主人公累倒，被口上角色送回房间
	; 	;填写检查（=0, 不显示、1, 显示）
	; 	LOCAL:1 = 0
	; 	;-------------------------------------------------
	; 	IF LOCAL:1 && ARG == 6
	; 		;因酒而倒下
	; 		IF BASE:MASTER:酒気 >= MAXBASE:MASTER:酒気
	; 			IF ARG:1
	; 				;在自己的房间里倒地，（～把【MASTER】搬到了床上（被褥）…）
	; 				PRINTFORMW 
	; 			ELSE
	; 				;被送回房间，（～把【MASTER】搬到了自己的房间…）
	; 				PRINTFORMW 
	; 			ENDIF
	; 		;体力用尽
	; 		ELSE
	; 			IF ARG:1
	; 				;在自己的房间里倒地，（～把【MASTER】搬到了床上（被褥）…）
	; 				PRINTFORMW 
	; 			ELSE
	; 				;被送回房间，（～把【MASTER】搬到了自己的房间…）
	; 				PRINTFORMW 
	; 			ENDIF
	; 		ENDIF
	; 		RETURN 1
	; 	ENDIF
	; 	;-------------------------------------------------
	; 	;TARGET为了睡觉回到了自己的房间
	; 	;填写检查（=0, 不显示、1, 显示）
	; 	LOCAL:1 = 1
	; 	;-------------------------------------------------
	; 	IF LOCAL:1 && ARG == 7
	; 		;-------------------------------------------------
	; 		;就这样换了衣服睡觉了（【TARGET】回到了房间→换上了睡衣，钻进了被窝里）
	; 		;填写检查（=0, 不显示、1, 显示）
	; 		LOCAL:1 = 0
	; 		;-------------------------------------------------
	; 		IF LOCAL:1 && ARG:1 == 0
	; 			PRINTFORMW 
	; 			RETURN 1
	; 		ENDIF
	; 		;-------------------------------------------------
	; 		;从房间里赶出来（被看起来很困的【TARGET】赶出去了…）
	; 		;填写检查（=0, 不显示、1, 显示）
	; 		LOCAL:1 = 0
	; 		;-------------------------------------------------
	; 		IF LOCAL:1 && ARG:1 == 1
	; 			IF CFLAG:前一次的位置 == CFLAG:現在位置
	; 				;口上角色直到上一个回合都在房间里
	; 				PRINTFORMW 
	; 			ELSE
	; 				;口上角色为了睡觉回到房间的时候
	; 				PRINTFORMW 
	; 			ENDIF
	; 			RETURN 1
	; 		ENDIF
	; 		;-------------------------------------------------
	; 		;让主人公停止和其他角色的H并睡觉（【TARGET】回到房间→撅着嘴唇的【TARGET】，【MASTER】不情愿地离开【H的对象】）
	; 		;填写检查（=0, 不显示、1, 显示）
	; 		LOCAL:1 = 0
	; 		;-------------------------------------------------
	; 		IF LOCAL:1 && ARG:1 == 2
	; 			PRINTFORMW 
	; 			RETURN 1
	; 		ENDIF
	; 	ENDIF
	; 	;-------------------------------------------------
	; 	;主人公所处的房间，遇到了需要睡觉而归来的口上角色，口上角色就这样睡觉了（非口上角色自室）
	; 	;填写检查（=0, 不显示、1, 显示）
	; 	LOCAL:1 = 0
	; 	;-------------------------------------------------
	; 	IF LOCAL:1 && ARG == 8
	; 		PRINTFORMW 
	; 		RETURN 1
	; 	ENDIF
	; 	;-------------------------------------------------
	; 	;从上个回合开始就在同一个房间的状态下口上角色睡着了
	; 	;填写检查（=0, 不显示、1, 显示）
	; 	LOCAL:1 = 0
	; 	;-------------------------------------------------
	; 	IF LOCAL:1 && ARG == 9
	; 		IF CFLAG:317
	; 			;H中睡着了
	; 			PRINTFORMW 
	; 		ELSE
	; 			PRINTFORMW 
	; 		ENDIF
	; 		RETURN 1
	; 	ENDIF
	; ENDIF
	; RETURN 1

;==================================================
;移动时擦身而过
;==================================================
@M_KOJO_FL_EVENT_K50_4(ARG,ARG:1)
	;口上主はTARGET
	;--------------------------------------------------
	;填写检查（=0, 不显示、1, 显示）
	LOCAL = 0
	;-------------

	IF LOCAL
		;-------------------------------------------------
		;小分岐
		;-------------------------------------------------
		;停了下来
		;之后遭遇口上连接
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 1
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;移动时遭遇了，主人公打招呼后离开
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 2
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;移动时遭遇了，主人公无视并离开
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 3
			PRINTFORML
			RETURN 1
		ENDIF
		;その他
		PRINTFORML  
	ENDIF
	RETURN 1

;==================================================
;由于他人介入，气氛发生了变化
;==================================================
@M_KOJO_FL_EVENT_K50_5(ARG,ARG:1)
	;口上主はTARGET
	;进入ARG的角色（人数太多了，自己把握自己负责
	;--------------------------------------------------
	;填写检查（=0, 不显示、1, 显示）
	LOCAL = 0
	;-------------

	IF LOCAL
		;-------------------------------------------------
		;小分岐
		;-------------------------------------------------
		;某人来了 ARG == 1 是灵梦 改成 ARG == 11 就是魔理沙以此类推
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 1
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;其他人来了
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 2
			PRINTFORML
			RETURN 1
		ENDIF
		;その他（キャラ指定なし
		PRINTFORML  
	ENDIF
	RETURN 1

;==================================================
;情事目撃
;==================================================
@M_KOJO_FL_EVENT_K50_6(ARG,ARG:1)
	;口上主はTARGET
	;ARGに情事相手
	;--------------------------------------------------
	;填写检查（=0, 不显示、1, 显示）
	LOCAL = 0
	;-------------

	IF LOCAL
		;-------------------------------------------------
		;小分岐
		;-------------------------------------------------
		;闯入了主人公与其他角色的情事现场，口上角色离开（对主人公好感度低时）
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;闯入了主人公与其他角色的情事现场，口上角色加入情事（对主人公好感度高时）
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 2
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;闯入了主人公与其他角色的情事现场（愤怒的离开）
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 3
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;闯入了主人公与其他角色的情事现场，并被主人公诱导加入情事
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 4
			PRINTFORML 
			RETURN 1
		ENDIF
		;その他
		PRINTFORML  
	ENDIF
	RETURN 1

;==================================================
;被看見了和主人公的情事
;==================================================
@M_KOJO_FL_EVENT_K50_7(ARG,ARG:1)
	;口上主はTARGET
	;ARGに目撃者
	;--------------------------------------------------
	;填写检查（=0, 不显示、1, 显示）
	LOCAL = 0
	;-------------

	IF LOCAL
		;-------------------------------------------------
		;小分岐
		;-------------------------------------------------
		;被其他角色闯入了与主人公的情事现场，闯入角色离开（闯入角色对主人公好感度低时）
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;被其他角色闯入了与主人公的情事现场，闯入角色加入情事（闯入角色对主人公好感度高时）
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 2
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;被其他角色闯入了与主人公的情事现场，闯入角色逃走
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 3
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;被其他角色闯入了与主人公的情事现场，主人公诱导闯入角色加入情事
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 4
			PRINTFORML 
			RETURN 1
		ENDIF
		;その他
		PRINTFORML  
	ENDIF
	RETURN 1

;==================================================
;目撃した情事を問い詰める
;==================================================
@M_KOJO_FL_EVENT_K50_8(ARG,ARG:1)
	;口上主はTARGET
	;--------------------------------------------------
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL = 0
	;-------------

	IF LOCAL
		;-------------------------------------------------
		;小分岐
		;-------------------------------------------------
		;MASTERだけ問い詰め
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;二人とも説教
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 2
			PRINTFORML
			RETURN 1
		ENDIF
		;其他
		PRINTFORML  
	ENDIF
	RETURN 1

;==================================================
;沒收胖次
;==================================================
@M_KOJO_FL_EVENT_K50_9(ARG,ARG:1)
	;口上主はTARGET
	;--------------------------------------------------
	;填写检查（=0, 不显示、1, 显示）
	LOCAL = 0
	;-------------

	IF LOCAL
		;-------------------------------------------------
		;小分岐
		;-------------------------------------------------
		;处于同一场所被发现身上藏着的内裤，并没收
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORML 
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;远距离移动中被发现身上藏着的内裤，并没收
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 2
			PRINTFORML 
			RETURN 1
		ENDIF
		PRINTFORMW  
	ENDIF
	RETURN 1

;==================================================
;逆推
;==================================================
@M_KOJO_FL_EVENT_K50_10(ARG,ARG:1)
	;口上主はTARGET
	;--------------------------------------------------
	;填写检查（=0, 不显示、1, 显示）
	LOCAL = 0
	;-------------

	IF LOCAL
		;-------------------------------------------------
		;小分岐
		;-------------------------------------------------
		;うふふ==2（開始時）
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 1
			;-------------------------------------------------
			;角色推倒主人公 主動權在校色（開始時）
			;填写检查（=0, 不显示、1, 显示）
			LOCAL:1 = 0
			;-------------------------------------------------
			IF LOCAL:1 && !ARG:1
				PRINTFORML
				RETURN 1
			ENDIF
			;-------------------------------------------------
			;角色抱住主人公 主動權在主人公（開始時）
			;填写检查（=0, 不显示、1, 显示）
			LOCAL:1 = 0
			;-------------------------------------------------
			IF LOCAL:1 && ARG:1 == 1
				PRINTFORML
				RETURN 1
			ENDIF
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;なだめられた（終了時）
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 2
			;-------------------------------------------------
			;主人公主动分开
			;填写检查（=0, 不显示、1, 显示）
			LOCAL:1 = 0
			;-------------------------------------------------
			IF LOCAL:1 && !ARG:1
				PRINTFORML
				RETURN 1
			ENDIF
			;-------------------------------------------------
			;满足于是分开
			;填写检查（=0, 不显示、1, 显示）
			LOCAL:1 = 0
			;-------------------------------------------------
			IF LOCAL:1 && ARG:1 == 1
				PRINTFORML
				RETURN 1
			ENDIF
			;-------------------------------------------------
			;因其他原因强制分开
			;填写检查（=0, 不显示、1, 显示）
			LOCAL:1 = 0
			;-------------------------------------------------
			IF LOCAL:1 && ARG:1 == 2
				PRINTFORML
				RETURN 1
			ENDIF
		ENDIF
		;-------------------------------------------------
		;抜出失敗
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 3
			;-------------------------------------------------
			;因为口上角色兴致正高，主人公主动分开失败
			;填写检查（=0, 不显示、1, 显示）
			LOCAL:1 = 0
			;-------------------------------------------------
			IF LOCAL:1 && ARG:1 == 1
				PRINTFORML
				RETURN 1
			ENDIF
			;-------------------------------------------------
			;因为口上角色欲求不满，主人公主动分开失败
			;填写检查（=0, 不显示、1, 显示）
			LOCAL:1 = 0
			;-------------------------------------------------
			IF LOCAL:1 && ARG:1 == 2
				PRINTFORML
				RETURN 1
			ENDIF
		ENDIF
		;-------------------------------------------------
		;邀请（想去别人看不到的地方）
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 4
			;ARG:1=TARGETの欲求不満度（最高1000）
			;必要ならばこれで分岐を作ってください
			PRINTFORML
			RETURN 1
		ENDIF
		;その他
		PRINTFORML  
	ENDIF
	RETURN 1

;==================================================
;在浴室里碰见
;==================================================
@M_KOJO_FL_EVENT_K50_11(ARG,ARG:1)
	;口上主はTARGET
	;--------------------------------------------------
	;填写检查（=0, 不显示、1, 显示）
	LOCAL = 0
	;-------------

	IF LOCAL
		;-------------------------------------------------
		;小分岐
		;-------------------------------------------------
		;在浴室里碰见，被赶出去
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 1
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;在浴室里碰见，被允许留下
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 2
			PRINTFORML
			RETURN 1
		ENDIF
		;その他
		PRINTFORML  
	ENDIF
	RETURN 1

;==================================================
;潜入床上
;==================================================
@M_KOJO_FL_EVENT_K50_12(ARG,ARG:1)
	;口上主はTARGET
	;--------------------------------------------------
	;填写检查（=0, 不显示、1, 显示）
	LOCAL = 0
	;-------------

	IF LOCAL
		;-------------------------------------------------
		;小分岐
		;-------------------------------------------------
		;在睡觉时侵入，被愤怒地赶了出去
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 2
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;在睡觉时侵入了
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;在睡觉时侵入了(恋慕以上)
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 2
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;在睡觉时侵入了(恋慕以上),虚弱状态中
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 3
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;在睡觉时侵入，被赶了出去
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 4
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;在睡觉时侵入，被赶了出去，虚弱状态中
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 5
			PRINTFORML
			RETURN 1
		ENDIF
		;その他
		PRINTFORML  
	ENDIF
	RETURN 1

;==================================================
;工作中
;==================================================
@M_KOJO_FL_EVENT_K50_13(ARG,ARG:1)
	;口上主はTARGET
	;ARG:1に残っている仕事量
	;--------------------------------------------------
	;填写检查（=0, 不显示、1, 显示）
	LOCAL = 0
	;-------------

	IF LOCAL
		;-------------------------------------------------
		;小分岐
		;-------------------------------------------------
		;工作开始，向职场移动
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 1
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;正在工作中
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 2
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;工作结束
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 3
			PRINTFORML
			RETURN 1
		ENDIF
		;その他
		PRINTFORML  
	ENDIF
	RETURN 1

;==================================================
;食事系
;==================================================
@M_KOJO_FL_EVENT_K50_14(ARG,ARG:1)
	;口上主はTARGET
	;--------------------------------------------------
	;填写检查（=0, 不显示、1, 显示）
	LOCAL = 0
	;-------------

	IF LOCAL
		;-------------------------------------------------
		;手上的食物被吃掉了。
		;TCVAR:盗み食い抑制 可以避免食物被吃掉
		;示例(有药的话就不吃了)
		;IF DISH_DRG
		;	TCVAR:盗み食い抑制 = 1
		;ENDIF

		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == -1
			PRINTFORML
			RETURN 1
		ENDIF
		;その他
		PRINTFORML  
	ENDIF
	RETURN 1

;==================================================
;MASTER推到了
;==================================================
@M_KOJO_FL_EVENT_K50_15(ARG,ARG:1)
	;口上主はTARGET
	;--------------------------------------------------
	;填写检查（=0, 不显示、1, 显示）
	LOCAL = 0
	;-------------

	IF LOCAL
		;-------------------------------------------------
		;小分岐
		;-------------------------------------------------
		;幽会结束
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 2
			PRINTFORML
			RETURN 1
		ENDIF
		;その他
		PRINTFORML  
		;-------------------------------------------------
		;事後描写
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 3
			;-------------------------------------------------
			;精液滴下来了
			;填写检查（=0, 不显示、1, 显示）
			LOCAL:1 = 0
			;-------------------------------------------------
			IF LOCAL:1 && ARG:1 == 1
				PRINTFORML
				RETURN 1
			ENDIF
			;-------------------------------------------------
			;爱液滴下来了
			;填写检查（=0, 不显示、1, 显示）
			LOCAL:1 = 0
			;-------------------------------------------------
			IF LOCAL:1 && ARG:1 == 2
				PRINTFORML
				RETURN 1
			ENDIF
			;-------------------------------------------------
			;事后的气氛
			;填写检查（=0, 不显示、1, 显示）
			LOCAL:1 = 0
			;-------------------------------------------------
			IF LOCAL:1 && ARG:1 == 3
				PRINTFORML
				RETURN 1
			ENDIF
			;-------------------------------------------------
			;穿衣服
			;填写检查（=0, 不显示、1, 显示）
			LOCAL:1 = 0
			;-------------------------------------------------
			IF LOCAL:1 && ARG:1 == 4
				PRINTFORML
				RETURN 1
			ENDIF
		ENDIF
	ENDIF
	RETURN 1

;==================================================
;陪睡
;==================================================
@M_KOJO_FL_EVENT_K50_16(ARG,ARG:1)
	;口上主はTARGET
	;--------------------------------------------------
	;填写检查（=0, 不显示、1, 显示）
	LOCAL = 0
	;-------------

	IF LOCAL
		;-------------------------------------------------
		;小分岐
		;-------------------------------------------------
		;开始陪睡
		;記入チェック
		;LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 1
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;陪睡结束
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 2
			PRINTFORML
			RETURN 1
		ENDIF
		;その他
		PRINTFORML  
	ENDIF
	RETURN 1
;==================================================
;时停结束
;==================================================
@M_KOJO_FL_EVENT_K50_17(ARG,ARG:1)
	;口上主はTARGET
	;排他と明記されていないモノは状況によっては連続で表示されるので注意
	;ARGに射精状況
	;ARG:1に射精状態
	;--------------------------------------------------
	;填写检查（=0, 不显示、1, 显示）
	LOCAL = 0
	;-------------

	IF LOCAL
		;-------------------------------------------------
		;小分岐
		;-------------------------------------------------
		;ARG=1～3は排他
		;謎の快感
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;絶頂
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 2
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;发现胖次消失时
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 3
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;【無自覚口内射精】
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 4
			;精液中毒低精饮
			IF ARG:1 == 1
			;精液中毒低吐出
			ELSEIF ARG:1 == 2
			;精液中毒低用手捂住
			ELSEIF ARG:1 == 3
			;精液中毒高精饮
			ELSEIF ARG:1 == 4
			;(浓厚)精液中毒低吐出
			ELSEIF ARG:1 == 5
			;(浓厚)精液中毒高精饮
			ELSEIF ARG:1 == 6
			ENDIF
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;【無自覚顔面射精】
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 5
			;幼稚/精液经验小于100，不知道脸上是什么
			IF ARG:1 == 1
			;擦拭脸上的精液
			ELSEIF ARG:1 == 2
			;把脸上的精液取下舔
			ELSEIF ARG:1 == 3
			ENDIF
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;【無自覚手淫射精】
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 6
			;擦拭手上的精液
			IF ARG:1 == 1
			;舔手上的精液
			ELSEIF ARG:1 == 2
			ENDIF
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;【無自覚アナル射精】
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 7
			;Ａ感覚2以下，肠内出现精液感到不适
			IF ARG:1 == 1
			;Ａ感覚2以上，肠内出现精液
			ELSEIF ARG:1 == 2
			ENDIF
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;【無自覚処女喪失】
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 8
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;【無自覚膣内射精】
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 9
			;非处女内射(未吃药)
			IF ARG:1 == 1
			;非处女内射(已吃药)
			ELSEIF ARG:1 == 2
			;处女内射
			ELSEIF ARG:1 == 3
			ENDIF
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;時間停止解除共通
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 0
			RETURN 1
		ENDIF
	ENDIF
	RETURN 1
;==================================================
;ナマでやらせろ時
;==================================================
@M_KOJO_FL_EVENT_K50_18(ARG,ARG:1)
	;口上主はTARGET
	;--------------------------------------------------
	;填写检查（=0, 不显示、1, 显示）
	LOCAL = 0
	;-------------
	IF LOCAL
		;-------------------------------------------------
		;小分岐
		;-------------------------------------------------
		;避妊要求台詞
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;再次要求避妊
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 2
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;再次要求避妊失败，表示不满
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 3
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;危险日以外许可
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 4
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;危険日許可
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 5
			RETURN 1
		ENDIF
	ENDIF
	RETURN 1
;==================================================
;请求批准住在神社
;==================================================
@M_KOJO_FL_EVENT_K50_19(ARG,ARG:1)
	;口上主はARG
	;--------------------------------------------------
	;填写检查（=0, 不显示、1, 显示）
	LOCAL = 0
	IF LOCAL
		;-------------------------------------------------
		;小分岐
		;-------------------------------------------------
		;同意在神社生活后
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 1
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;不同意在神社生活后
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 2
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;因为你的房间变更而同居
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 3
			PRINTFORML
			RETURN 1
		ENDIF
	ENDIF
	RETURN 1

;==================================================
;帰宅時
;==================================================
@M_KOJO_FL_EVENT_K50_20(ARG,ARG:1)
	;口上主はLOCALS or RESULT
	;--------------------------------------------------
	;填写检查（=0, 不显示、1, 显示）
	LOCAL = 0
	IF LOCAL
		;-------------------------------------------------
		;小分岐
		;-------------------------------------------------
		;要求回家
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 1
			IF CFLAG:317
				;H中困而归
				PRINTFORMW 
			ELSE
				PRINTFORMW 
			ENDIF
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;约会中要求回家
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 2
			IF CFLAG:317
				IF CFLAG:衰弱
					;H中疲惫要求回家
					PRINTFORMW 
				ELSE
					;H中困要求回家
					PRINTFORMW 
				ENDIF
			ELSE
				PRINTFORMW 
			ENDIF
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;送到玄关后回家（在角色自己家的位置或者角色的房间结束约会）
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 3
			PRINTFORMW 
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;约会结束时，邀请对方来自己的房间(被对方邀请来自己的房间)
		;(只有来访的角色，没有自己家的角色也会发生)
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 4
			PRINTFORML 
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;不来房间吗→选择“去”(在……的邀请下，【MASTER】向【TARGET】的房间走去……)
		;(一旦发生，十有八九会被推倒)
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 5
			PRINTFORMW 
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;不来房间吗→选择“不来了”(~是心理作用还是很寂寞……)
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 6
			PRINTFORMW 
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;说今晚不想回去(~说今晚不想回去…)
		;(来访角色回家时欲求不满和欲望高的话发生)
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 7
			PRINTFORMW 
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;今晚不想回去→选择“留宿”(~在【MASTER自己的房间】留宿)
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 8
			PRINTFORMW 
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;今晚不想回去→选择“不留宿”，或者房主在(【MASTER】郑重拒绝了)
		;(房主在的= MASTER的私人房间里设定了其他角色的私人房间)
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 9
			PRINTFORMW 
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;累坏了回家(累坏了~回去了)
		;(~累坏了→送你到(入口)发生)
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 10
			IF CFLAG:317
				;H中累了回去
				PRINTFORMW 
			ELSE
				PRINTFORMW 
			ENDIF
			RETURN 1
		ENDIF
	ENDIF
	RETURN 1
;==================================================
;陥落素質取得時
;==================================================
@M_KOJO_FL_EVENT_K50_21(kind, ARG)
	#DIM kind
	SELECTCASE kind
		;恋慕
		CASE 1
		;思慕
		CASE 2
			CALL k1011FallenLove
		;愛欲
		CASE 3
		;愛人
		CASE 4
		;炮友
		CASE 5
		;接吻魔
		CASE 6
		;自慰狂
		CASE 7
		;子宫口性感
		CASE 8
		;漏尿癖
		CASE 9
			CALL k1011FallenPee
	ENDSELECT
	RETURN 1
;==================================================
;夜晚自慰
;==================================================
@M_KOJO_FL_EVENT_K50_22(kind, place)
	#DIM kind	;4失去无知 7忍耐
	#DIM place	;位置
	IF kind == 4
		K1011EventFirst:自慰 = 1
		RETURN
	ENDIF
	SIF kind == 7
		RETURN
	SELECTCASE place
		CASE 2
			CALL k1011SelfV
		CASE 3
			CALL k1011SelfA
	ENDSELECT
;==================================================
;带进浴室
;==================================================
@M_KOJO_FL_EVENT_K50_23(ARG,ARG:1)
	;口上主はLOCAL
	;--------------------------------------------------
	;填写检查（=0, 不显示、1, 显示）
	LOCAL = 1
	;-------------
	IF LOCAL
		;-------------------------------------------------
		;小分岐
		;-------------------------------------------------
		;拒绝被带进浴室
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;同意被带进浴室
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 2
			RETURN 1
		ENDIF
		;その他
		PRINTFORML  
	ENDIF
	RETURN 1
;==================================================
;懐妊
;==================================================
@M_KOJO_FL_EVENT_K50_24(kind, ARG:1)
	#DIM kind	;怀孕类型,4无知孕
	SIF kind == 4
		RETURN
	SIF k1011GetTalent("恋慕")
		CALL k1011GetPreg
;==================================================
;出産
;==================================================
@M_KOJO_FL_EVENT_K50_25(kind, ARG:1)
	#DIM kind	;怀孕类型,4无知孕
	SIF kind == 4
		RETURN
	CALL k1011BirthBaby
;==================================================
;オナバレ
;==================================================
@M_KOJO_FL_EVENT_K50_26(ARG,ARG:1)

	;--------------------------------------------------
	;填写检查（=0, 不显示、1, 显示）
	LOCAL = 0
	;-------------
	IF LOCAL
		SELECTCASE ARG
			;-------------------------------------------------
			CASE 0
			;被看见的瞬间
			;填写检查（=0, 不显示、1, 显示）
			LOCAL:1 = 0
			;-------------------------------------------------
			IF LOCAL:1
				RETURN 1
			ENDIF
			;-------------------------------------------------
			CASE 1
			;看到自慰后什么也不做
			;填写检查（=0, 不显示、1, 显示）
			LOCAL:1 = 0
			;-------------------------------------------------
			IF LOCAL:1
				RETURN 1
			ENDIF
			;-------------------------------------------------
			CASE 2
			;看到自慰后要求继续
			;填写检查（=0, 不显示、1, 显示）
			LOCAL:1 = 0
			;-------------------------------------------------
			IF LOCAL:1
				RETURN 1
			ENDIF
			;-------------------------------------------------
			CASE 3
			;看到自慰后被赶出去
			;填写检查（=0, 不显示、1, 显示）
			LOCAL:1 = 0
			;-------------------------------------------------
			IF LOCAL:1
				RETURN 1
			ENDIF
			;-------------------------------------------------
			CASE 4
			;看到自慰后要求一起来
			;填写检查（=0, 不显示、1, 显示）
			LOCAL:1 = 0
			;-------------------------------------------------
			IF LOCAL:1
				RETURN 1
			ENDIF
			;-------------------------------------------------
			CASE 5
			;看到自慰后的事后
			;填写检查（=0, 不显示、1, 显示）
			LOCAL:1 = 0
			;-------------------------------------------------
			IF LOCAL:1
				RETURN 1
			ENDIF
			;-------------------------------------------------
			CASE 6
			;看到自慰后的事后住宿
			;填写检查（=0, 不显示、1, 显示）
			LOCAL:1 = 0
			;-------------------------------------------------
		ENDSELECT
	ENDIF

;オナバレックス判定用関数
;RETURN -1で強制失敗、RETURN 1で強制成功
	@M_KOJO_FL_EVENT_K50_26_1(ARGS)
	#DIM 補正値
	IF ARGS == "どうぞそのまま"

	ELSEIF ARGS == "二人で"

	ENDIF

	;使用例
	;IF !TALENT:XX:恋慕
	;	PRINTFORMW %CALLNAME:XX%はガードが堅いぞ！
	;	RETURN -1
	;ENDIF
	;IF TALENT:MASTER:濃厚精液
	;	PRINTFORMW %CALLNAME:XX%はちんぽに弱いぞ！
	;	RETURN 1
	;ENDIF
;==================================================
;对方提出约会的邀请
;==================================================
@M_KOJO_FL_EVENT_K50_27(ARG,ARG:1)
	;口上主はLOCAL
	;ARG:1は目的地
	;--------------------------------------------------
	;填写检查（=0, 不显示、1, 显示）
	LOCAL = 0
	;-------------
	IF LOCAL
		SELECTCASE ARG
			;-------------------------------------------------
			CASE 0
			;口上角色邀请主人公约会
			;填写检查（=0, 不显示、1, 显示）
			LOCAL:1 = 0
			;-------------------------------------------------
			IF LOCAL:1
				RETURN 1
			ENDIF
			;-------------------------------------------------
			CASE 1
			;接受口上角色的约会邀请
			;填写检查（=0, 不显示、1, 显示）
			LOCAL:1 = 0
			;-------------------------------------------------
			IF LOCAL:1
				RETURN 1
			ENDIF
			;-------------------------------------------------
			CASE 2
			;拒绝口上角色的约会邀请
			;填写检查（=0, 不显示、1, 显示）
			LOCAL:1 = 0
			;-------------------------------------------------
			IF LOCAL:1
				RETURN 1
			ENDIF
			;-------------------------------------------------
			CASE 3
			;口上角色邀请主角来自己房间
			;填写检查（=0, 不显示、1, 显示）
			LOCAL:1 = 0
			;-------------------------------------------------
			IF LOCAL:1
				RETURN 1
			ENDIF
			;-------------------------------------------------
			CASE 4
			;口上角色邀请主角来自己房间 接受了
			;填写检查（=0, 不显示、1, 显示）
			LOCAL:1 = 0
			;-------------------------------------------------
			IF LOCAL:1
				RETURN 1
			ENDIF
			;-------------------------------------------------
			CASE 5
			;口上角色邀请主角来自己房间 拒绝了
			;填写检查（=0, 不显示、1, 显示）
			LOCAL:1 = 0
			;-------------------------------------------------
			IF LOCAL:1
				RETURN 1
			ENDIF
		ENDSELECT
	ENDIF
	RETURN 1

;==================================================
;脱衣口上
;==================================================
@M_KOJO_FL_EVENT_K50_28(ARG,ARG:1)
	;口上主はTARGET
	;ARGに脱がし方選択
	;ARG:1（ARG=3の場合のみあり）地の文の反応
	;--------------------------------------------------
	;填写检查（=0, 不显示、1, 显示）
	LOCAL = 0
	;-------------
	IF LOCAL
		SELECTCASE ARG
			;-------------------------------------------------
			CASE 0
			;全裸
			;填写检查（=0, 不显示、1, 显示）
			LOCAL:1 = 0
			;-------------------------------------------------
			IF LOCAL:1
				;在时间停止时
				IF FLAG:70
				;通常
				ELSE
				ENDIF
				RETURN 1
			ENDIF
			;-------------------------------------------------
			CASE 1
			;脱下口上角色下着
			;填写检查（=0, 不显示、1, 显示）
			LOCAL:1 = 0
			;-------------------------------------------------
			IF LOCAL:1
				;在时间停止时
				IF FLAG:70
				;通常
				ELSE
				ENDIF
				RETURN 1
			ENDIF
			;-------------------------------------------------
			CASE 2
			;脱到半裸
			;填写检查（=0, 不显示、1, 显示）
			LOCAL:1 = 0
			;-------------------------------------------------
			IF LOCAL:1
				;在时间停止时
				IF FLAG:70
				;通常
				ELSE
				ENDIF
				RETURN 1
			ENDIF
			;-------------------------------------------------
			CASE 3
			;索要胖次
			;填写检查（=0, 不显示、1, 显示）
			LOCAL:1 = 0
			;-------------------------------------------------
			IF LOCAL:1
				SELECTCASE ARG:1
					;-------------------------------------------------
					CASE 0
					;索要胖次后口上角色要求交换
					;填写检查（=0, 不显示、1, 显示）
					LOCAL:1 = 0
					;-------------------------------------------------
					IF LOCAL:1
						RETURN 1
					ENDIF
					;-------------------------------------------------
					CASE 1
					;索要胖次后口上角色笑着答应了
					;填写检查（=0, 不显示、1, 显示）
					LOCAL:1 = 0
					;-------------------------------------------------
					IF LOCAL:1
						RETURN 1
					ENDIF
					;-------------------------------------------------
					CASE 2
					;索要胖次后口上角色勉为其难答应了
					;填写检查（=0, 不显示、1, 显示）
					LOCAL:1 = 0
					;-------------------------------------------------
					IF LOCAL:1
						RETURN 1
					ENDIF
					;-------------------------------------------------
					CASE 3
					;索要胖次后口上角色拒绝了
					;填写检查（=0, 不显示、1, 显示）
					LOCAL:1 = 0
					;-------------------------------------------------
					IF LOCAL:1
						RETURN 1
					ENDIF
					RETURN 1
				ENDSELECT
			ENDIF
		ENDSELECT
	ENDIF
	RETURN 1

;==================================================
;怒り口上
;==================================================
@M_KOJO_FL_EVENT_K50_29(ARG,ARG:1)
	;口上主はTARGET
	;ARGはTARGETの度胸で分岐
	;--------------------------------------------------
	;填写检查（=0, 不显示、1, 显示）
	LOCAL = 0
	;-------------
	IF LOCAL
		;-------------------------------------------------
		;小分岐
		;-------------------------------------------------
		;发火事件
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;哭泣事件　[臆病]持ち
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 2
			RETURN 1
		ENDIF
	ENDIF
	RETURN 1

;==================================================
;推到状态接触解除
;==================================================
@M_KOJO_FL_EVENT_K50_30(ARG,ARG:1)
	;口上主はTARGET
	;--------------------------------------------------
	;填写检查（=0, 不显示、1, 显示）
	LOCAL = 0
	;-------------

	IF LOCAL
		;-------------------------------------------------
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 1
		;口上角色解除了推倒状态(累了)
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 2
		;口上角色解除了推倒状态(满足了)
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 3
		;在口上角色满足时主人公反推了
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;填写检查（=0, 不显示、1, 显示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG == 4
		;在口上角色满足时要求继续
			PRINTFORML
			RETURN 1
		ENDIF
	ENDIF
	RETURN 1


;==================================================
;一天结束时(AFTERTRA前)、没有认识就不会出现
;==================================================
@M_KOJO_FL_EVENT_K50_31(ARG, ARG:1)
	CALL k1011TwTurnEndMain

;==================================================
;自由行動中
;ARG:1      0=行動中,1=完了時
;技能类行动在技能等级在1以上时发生
;==================================================
@M_KOJO_FL_EVENT_K50_32(ARG,ARG:1)
	;--------------------------------------------------
	;填写检查（=0, 不显示、1, 显示）
	LOCAL = 0
	;-------------
	IF LOCAL
		SELECTCASE ARG
		CASE 0
			;▼想的事，(~沉浸在思考中。)
			IF !ARG:1
				;行動中
				PRINTFORML 
			ELSE
				;完了時
				PRINTFORML 
			ENDIF
		CASE 1
			;▼玩，(~跑来跑去。)
			;※[幼稚]持有的时候
			IF !ARG:1
				;行動中
				PRINTFORML 
			ELSE
				;完了時
				PRINTFORML 
			ENDIF
		CASE 2
			;▼吃饭，(~在吃饭。)
			IF !ARG:1
				;行動中
				PRINTFORML 
			ELSE
				;完了時
				PRINTFORML 
			ENDIF
		CASE 3
			;▼抓着吃(~在偷偷地抓着吃。)
			;※[妖精]持有的时候
			IF !ARG:1
				;行動中
				PRINTFORML 
			ELSE
				;完了時
				PRINTFORML 
			ENDIF
		CASE 4
			;▼掃除,（~干净利落地打扫着房间。）
			;※[掃除係]拥有或抗污臭能力-1以下
			IF !ARG:1
				;行動中
				PRINTFORML 
			ELSE
				;完了時
				PRINTFORML 
			ENDIF
		CASE 5
			;▼運動,（~干劲十足地运动着。）
			;※[音楽知識]持有除外(变成演奏)
			IF !ARG:1
				;行動中
				PRINTFORML 
			ELSE
				;完了時
				PRINTFORML 
			ENDIF
		CASE 6
			;▼読書,（~默默地看书。）
			IF !ARG:1
				;行動中
				PRINTFORML 
			ELSE
				;完了時
				PRINTFORML 
			ENDIF
		CASE 7
			;▼料理,
			IF !ARG:1
				;行動中
				IF Activity_Duration:TARGET > 30
					;料理中（~轻快地做菜。）
					PRINTFORML 
				ELSE
					;食事中（~吃着做的菜。）
					PRINTFORML 
				ENDIF
			ELSE
				;完了時
				PRINTFORML 
			ENDIF
		CASE 8
			;▼演奏
			;※[音楽知識]持有时（TALENT:音楽知識 変化）
			;1,～愉快地演奏着。。
			;2,～随心所欲地唱着。
			;3,～华丽地跳着舞。
			IF !ARG:1
				;行動中
				PRINTFORML 
			ELSE
				;完了時
				PRINTFORML 
			ENDIF
		CASE 9
			;▼採集,（~寻找可以使用的素材。）
			IF !ARG:1
				;行動中
				PRINTFORML 
			ELSE
				;完了時
				PRINTFORML 
			ENDIF
		CASE 10
			;▼釣り,（~悠闲地钓鱼。）
			IF !ARG:1
				;行動中
				PRINTFORML 
			ELSE
				;完了時
				PRINTFORML 
			ENDIF
		CASE 11
			;▼実験,（~在做奇怪的实验。）
			IF !ARG:1
				;行動中
				PRINTFORML 
			ELSE
				;完了時
				PRINTFORML 
			ENDIF
		CASE 12
			;▼悠闲,（～悠闲放送。）
			IF !ARG:1
				;行動中
				PRINTFORML 
			ELSE
				;完了時
				PRINTFORML 
			ENDIF
		CASE 13
			;▼晩酌,（~一直喝着酒。）
			;※酒耐性0以上
			IF !ARG:1
				;行動中
				PRINTFORML 
			ELSE
				;完了時
				PRINTFORML 
			ENDIF
		CASE 14
			;▼购物,（~随心所欲地购物。）
			IF !ARG:1
				;行動中
				PRINTFORML 
			ELSE
				;完了時
				PRINTFORML 
			ENDIF
		CASE 15
			;▼説教,（~一直在听…）
			;※神霊・蓬莱人は除く
			IF !ARG:1
				;行動中
				PRINTFORML 
			ELSE
				;完了時
				PRINTFORML 
			ENDIF
		CASE 16
			;▼落穴,（~增加了陷阱）
			;※仅限三月精和克劳恩皮丝
			;除此之外都是掉下去的一方
			IF !ARG:1
				;行動中
				PRINTFORML 
			ELSE
				;完了時,
				;（布置人(失败时)，谁也不上钩，所以~好像厌倦了…）
				;（掉下去的一方(战斗能力2 ~ 4)，~马上从洞里跳出来四下张望着。…）
				PRINTFORML 
			ENDIF
		CASE 17
			;▼堆雪人
			IF !ARG:1
				;行動中
				PRINTFORML 
			ELSE
				;完了時
				PRINTFORML 
			ENDIF
		ENDSELECT
	ENDIF
	RETURN 1

;==================================================
;新年快乐
;过年的瞬间在同一个房间发生
;==================================================
@M_KOJO_FL_EVENT_K50_33(ARG,ARG:1)
	;--------------------------------------------------
	;填写检查（=0, 不显示、1, 显示）
	LOCAL = 0
	;-------------
	IF LOCAL
		PRINTFORMW 
	ENDIF
	RETURN 1

;==================================================
;提高技能
;==================================================
@M_KOJO_FL_EVENT_K50_34(kind, ARG:1)
	#DIM kind
	SELECTCASE kind
		;戦闘技能
		CASE 1
		;話術技能
		CASE 2
		;清掃技能
		CASE 3
		;教養
		CASE 4
		;料理技能
		CASE 5
		;採集Lv
		CASE 6
		;音楽技能
		CASE 7
			;音楽技能
			IF ARG:1 == 0
			;【音楽知識】取得
			ELSEIF ARG:1 == 1
			;【相対音感】取得
			ELSEIF ARG:1 == 2
			ENDIF
		;钓鱼
		CASE 8
		;調合
		CASE 9
			;調合Lv
			IF ARG:1 == 0
			;【調合知識】取得
			ELSEIF ARG:1 == 1
			ENDIF
		;伐採Lv
		CASE 10
		;指
		CASE 11
			;指
			IF ARG:1 == 0
			;【器用な指】取得
			ELSEIF ARG:1 == 1
			ENDIF
		;舌
		CASE 12
			;舌
			IF ARG:1 == 0
			;【舌头灵活】取得
			ELSEIF ARG:1 == 1
			ENDIF
		;B
		CASE 13
			IF ARG:1 == 0
			;【淫乳】取得
			ELSEIF ARG:1 == 1
			ENDIF
		;腰
		CASE 14
		;V
		CASE 15
			;膣
			IF ARG:1 == 0
			;【淫壺】取得
			ELSEIF ARG:1 == 1
				CALL k1011FallenV
			ENDIF
		;A
		CASE 16
			;アナル
			IF ARG:1 == 0
			;【尻穴狂】取得
			ELSEIF ARG:1 == 1
				CALL k1011FallenA
			ENDIF
	ENDSELECT

;==================================================
;每日活动2，梦精
;亲密5以上发生(仅限来访角色)
;▼地の文--------------------------------------------------
;【MASTER】正在洗被梦精弄脏的内衣的时候【TARGET】飞了过来!
;【TARGET】抗议说不要和其他的衣服一起洗，然后就把【MASTER】手里的内衣扔回去了…
;【TARGET】情欲之珠+ 1000
;==================================================
@M_KOJO_FL_DAILY_EVENT_K50_2(ARG, ARG:1, ARG:2, ARG:3, ARG:4, ARGS:1, ARGS:2)
	; ;地の文を変えたければコメントアウト
	; ;※コメントアウトすると欲情の珠＋1000（JUEL:11 += 1000）もカットされるので注意
	; CALL DAILY_MESSAGE_2(ARG, ARG:1, ARG:2, ARG:3, ARG:4, ARGS:1, ARGS:2)
	; ;--------------------------------------------------
	; ;填写检查（=0, 不显示、1, 显示）
	; LOCAL = 
	; ;-------------
	; IF LOCAL
	; 	PRINTFORMW 
	; ENDIF
	; RETURN 1

;==================================================
;每日活动4，思考
;在浓厚精液状态下发生
;▼地の文--------------------------------------------------
;沉溺于漫无边际的思考的【TARGET】，不知不觉间想到了【MASTER】。
;【TARGET】好像决定明天去见【MASTER】
;==================================================
@M_KOJO_FL_DAILY_EVENT_K50_4(ARG, ARG:1, ARG:2, ARG:3, ARG:4, ARGS:1, ARGS:2)
	;地の文を変えたければコメントアウト
	CALL DAILY_MESSAGE_4(ARG, ARG:1, ARG:2, ARG:3, ARG:4, ARGS:1, ARGS:2)
	;--------------------------------------------------
	;填写检查（=0, 不显示、1, 显示）
	LOCAL = 0
	;-------------
	IF LOCAL
		PRINTFORMW 
	ENDIF
	RETURN 1

;==================================================
;每日活动12，特训
;信赖100以上发生(仅限据点角色)
;==================================================
@M_KOJO_FL_DAILY_EVENT_K50_12(ARG, ARG:1, ARG:2, ARG:3, ARG:4, ARGS:1, ARGS:2)
	;地の文を変えたければコメントアウト
	;コメントアウトできるのはARG:1=1,2のみです
	CALL DAILY_MESSAGE_12(ARG, ARG:1, ARG:2, ARG:3, ARG:4, ARGS:1, ARGS:2)
	;--------------------------------------------------
	;填写检查（=0, 不显示、1, 显示）
	LOCAL = 0
	;-------------
	IF LOCAL
		SELECTCASE ARG:1
		CASE 1
			;被委托特训
			;被~要求陪我进行新技术的训练。
			PRINTFORML 
		CASE 2
			;拒绝
			;~好像很遗憾
			PRINTFORML 
		CASE 3
			;~的攻击!
			;※这里请不要WAIT
			PRINTFORML 
		CASE 4
			IF ARG:2
				;時間停止して回避
				PRINTFORML 
			ELSE
				;回避成功
				PRINTFORML 
			ENDIF
		CASE 5
			;回避失敗
			PRINTFORML 
		ENDSELECT
	ENDIF
	RETURN 1


[SKIPSTART]
;-------------------------------------------------
;オナバレ遭遇時の地の文をデフォルトのものから変更したい場合用。
;その場合は上下のSKIPSTART~SKIPENDを外してください。
;CFLAG等のキャラ変数を使う場合、キャラ番号の指定が必要になります。
;-------------------------------------------------
@M_KOJO_FL_EVENT_K50_ONABARE_1(ARG)
;-------------------------------------------------
:口上色を付けるならコメントアウトを外しXをキャラ番号に
;CALL M_KOJO_FL_COLOR_K50

IF ARG
	PRINTFORML A弄ってる場合
ELSE
	PRINTFORML V弄ってる場合
ENDIF
;-------------------------------------------------
[SKIPEND]


[SKIPSTART]
;-------------------------------------------------
;オナバレでそのまま続けてもらう場合の地の文をデフォルトのものから変更したい場合用。
;その場合は上下のSKIPSTART~SKIPENDを外してください。
;CFLAG等のキャラ変数を使う場合、キャラ番号の指定が必要になります。
;-------------------------------------------------
@M_KOJO_FL_EVENT_K50_ONABARE_2(ARG)
;-------------------------------------------------
:口上色を付けるならコメントアウトを外しXをキャラ番号に
;CALL M_KOJO_FL_COLOR_K50

IF ARG
	PRINTFORML A弄ってる場合
ELSE
	PRINTFORML V弄ってる場合
ENDIF
;-------------------------------------------------
[SKIPEND]


[SKIPSTART]
;-------------------------------------------------
;オナバレなし崩しックスの地の文をデフォルトのものから変更したい場合用。
;その場合は上下のSKIPSTART~SKIPENDを外してください。
;CFLAG等のキャラ変数を使う場合、キャラ番号の指定が必要になります。
;-------------------------------------------------
@M_KOJO_FL_EVENT_K50_ONABARE_3(前戯１,本番はどっちか,回数,注入量)
;-------------------------------------------------
#DIM 前戯１
;1=C 2=B 3=M
#DIM 本番はどっちか
;0でＶ、1でＡ
#DIM 注入量
#DIM 回数

:口上色を付けるならコメントアウトを外しXをキャラ番号に
;CALL M_KOJO_FL_COLOR_K50

SELECTCASE 前戯１
	CASE 1
		PRINTFORML Ｃ責め
	CASE 2
		PRINTFORML Ｂ責め
	CASE 3
		PRINTFORML Ｍ責め
ENDSELECT

IF 本番はどっちか
	PRINTFORML Aで本番
ELSE
	PRINTFORML Vで本番
ENDIF
;-------------------------------------------------
[SKIPEND]


;-------------------------------------------------
;插入处女·不自觉非处女之前的开场白
;RETURN 1取消命令。
;RETURN 0的话通过。
;CFLAG:破瓜 口上没有开启的话不会被读取 请注意
;-------------------------------------------------
@M_KOJO_FL_EVENT_K50_LOST_VIRGIN_STOP
;-------------------------------------------------
PRINTFORML 
RETURN 1

;-------------------------------------------------
;CFLAG:口上内拥抱判定_初回开启的情况下有效。
;第一次推倒的时候，在这里RETURN -1强制取消推倒。
;如果RETURN 0，则进行普通判定，如果RETURN 1，则无条件成功。
;想要在特定的活动(约会结束后接吻等)之前不能H的时候请使用。
;-------------------------------------------------
@M_KOJO_FL_EVENT_K50_PERMISSION_1
	;-------------------------------------------------
	PRINTFORML 
	;RETURN -1
	RETURN 0
	;RETURN 1
	;-------------------------------------------------


;-------------------------------------------------
;CFLAG:口上内拥抱判定_通常开启的情况下有效。
;统一推倒的时候，在这里RETURN -1强制取消推倒。
;如果是RETURN 0，就像往常一样让其成功。
;即使达成了协议，但由于某种原因无法达成协议的时候请使用。
;-------------------------------------------------
@M_KOJO_FL_EVENT_K50_PERMISSION_2
	;-------------------------------------------------
	PRINTFORML 
	RETURN 0
	;RETURN -1
	;-------------------------------------------------

;-------------------------------------------------
;房间描绘用函数
;用于描写口头角色OMANEKIBEYA或据点。
;填写的时候请去掉；
;-------------------------------------------------
;@KX_ROOM_DESCRIPTION
;PRINTFORML 例）没有生活感的简陋房间
;-------------------------------------------------


;==================================================
;贈物
;==================================================
@M_KOJO_FL_EVENT_K50_GIFT(ARG, GIFT_ID, 評価点, GIFT_NAME, SENSE)
	#DIM GIFT_ID
	#DIM 評価点
	#DIMS GIFT_NAME
	#DIMS SENSE
	;--------------------------------------------------------------------------------------------------
	;约会回来的时候，你给角色的礼物(无论沦陷还是好感度，亲密5以上才会产生)
	;评价分数为701 ~ 999(交付角色本人的评价)
	;--------------------------------------------------------------------------------------------------
	IF ARG == 1
		;PRINTFORMW 「%GIFT_NAME%给你，请好好使用」
		RETURN 1
	;--------------------------------------------------------------------------------------------------
	;在一天结束时珍惜今天收到的礼物(700点以上)
	;--------------------------------------------------------------------------------------------------
	ELSEIF ARG == 2
		;IF STRCOUNT(SENSE, "可爱/")
		;	PRINTFORMW 「收到了一份可爱的礼物」
		;ELSEIF 評価点 >= 800
		;	PRINTFORMW 「收到了一份很漂亮的礼物」
		;ELSE
		;	PRINTFORMW 「收到了很漂亮的礼物」
		;ENDIF
		RETURN 1
	;--------------------------------------------------------------------------------------------------
	;在一天结束的时候，把今天收到的礼物收藏起来(↑我会好好珍惜的，继续)(700分以上，最高得分)
	;--------------------------------------------------------------------------------------------------
	ELSEIF ARG == 3
		;IF STRCOUNT(SENSE, "身につける/")
		;	PRINTFORMW 「我打算从明天开始带上这个。」
		;ELSE
		;	PRINTFORMW 「我打算从明天开始带这个出去」
		;ENDIF
		RETURN 1
	;--------------------------------------------------------------------------------------------------
	;在一天结束时，暂时保管今天收到的礼物(400 ~ 699件)
	;--------------------------------------------------------------------------------------------------
	ELSEIF ARG == 4
		;PRINTFORMW 「先装饰一下吧」
		RETURN 1
	;--------------------------------------------------------------------------------------------------
	;在一天结束的时候，把今天收到的礼物悄悄典当进去(不到400分)
	;--------------------------------------------------------------------------------------------------
	ELSEIF ARG == 5
		;PRINTFORMW 「我讨厌这个～」
		RETURN 1
	ENDIF
	RETURN 1

